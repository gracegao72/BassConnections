mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book
results_antwerp_book2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_book2 <- results_antwerp_book2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_book2
url_antwerp_book2 <- results_antwerp_book2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book2 #list of individual links from page one
results_df_antwerp_book
write_xlsx(x = results_df_antwerp_book, path = "antwerp_book_data.xlsx", col_names = TRUE)
results_df_antwerp_book2
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp_book <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp_book <- results_antwerp_book %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book
results_df_antwerp_book <- results_df_antwerp_book %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book
results_antwerp_book2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_book2 <- results_antwerp_book2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_book2
url_antwerp_book2 <- results_antwerp_book2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book2 #list of individual links from page one
results_df_antwerp_book2 <- tibble(names_antwerp_book2, url_antwerp_book2)
results_df_antwerp_book2
results_df_antwerp_book
write_xlsx(x = results_df_antwerp_book, path = "antwerp_book_data.xlsx", col_names = TRUE)
results_df_antwerp_book2
write_xlsx(x = results_df_antwerp_2, path = "antwerp2_book_2data.xlsx", col_names = TRUE)
knitr::opts_chunk$set(echo = TRUE)
url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp <- results_antwerp %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp <- results_antwerp %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp <- tibble(names_antwerp, url_antwerp)
results_df_antwerp
#url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
results_antwerp_2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_2
url_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_2 #list of individual links from page one
results_df_antwerp_2 <- tibble(names_antwerp_2, url_antwerp_2)
results_df_antwerp_2
#url
results_df_antwerp2 <- results_df_antwerp2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2 <- results_df_antwerp_2[-c(1:3),]
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2 <- results_df_antwerp_2[-c(1:3),]
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2 <- results_df_antwerp_2[-c(0:2),]
results_df_antwerp_2
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp <- results_antwerp %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp <- results_antwerp %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp <- tibble(names_antwerp, url_antwerp)
results_df_antwerp
#url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
results_antwerp_2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_2
url_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_2 #list of individual links from page one
results_df_antwerp_2 <- tibble(names_antwerp_2, url_antwerp_2)
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2 <- results_df_antwerp_2[-c(0:2),]
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2 <- results_df_antwerp_2[-c(0:2),]
results_df_antwerp_2
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp <- results_antwerp %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp <- results_antwerp %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp <- tibble(names_antwerp, url_antwerp)
results_df_antwerp
#url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
results_antwerp_2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_2
url_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_2 #list of individual links from page one
results_df_antwerp_2 <- tibble(names_antwerp_2, url_antwerp_2)
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp <- results_antwerp %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp <- results_antwerp %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp <- tibble(names_antwerp, url_antwerp)
results_df_antwerp
#url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
results_antwerp_2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_2
url_antwerp_2 <- results_antwerp_2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_2 #list of individual links from page one
results_df_antwerp_2 <- tibble(names_antwerp_2, url_antwerp_2)
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_2}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2
df_antwerp_smith <- Merge(results_df_antwerp, results_df_antwerp_2)
df_antwerp_smith <- Merge(results_df_antwerp, results_df_antwerp_2, by ="rows")
df_antwerp_smith <- rbind(results_df_antwerp, results_df_antwerp_2)
df_antwerp_smith <- bind_cols(results_df_antwerp, results_df_antwerp_2)
df_antwerp_smith <- bind_rows(results_df_antwerp, results_df_antwerp_2)
View(df_antwerp_smith)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp <- results_antwerp %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp <- results_antwerp %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp <- tibble(names_antwerp, url_antwerp)
results_df_antwerp
#url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
results_antwerp_2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp <- results_antwerp_2 %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp<- results_antwerp_2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp_2 <- tibble(names_antwerp, url_antwerp)
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2
df_antwerp_smith <- bind_rows(results_df_antwerp, results_df_antwerp_2)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp <- results_antwerp %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp <- results_antwerp %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp <- tibble(names_antwerp, url_antwerp)
results_df_antwerp
#url
results_df_antwerp <- results_df_antwerp %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp
results_antwerp_2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=56%2C79%2C542&subjectmat=&place=Antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp <- results_antwerp_2 %>%
html_nodes("li") %>%
html_text()
names_antwerp
url_antwerp<- results_antwerp_2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp #list of individual links from page one
results_df_antwerp_2 <- tibble(names_antwerp, url_antwerp)
results_df_antwerp_2
#url
results_df_antwerp_2 <- results_df_antwerp_2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_2
df_antwerp_smith <- bind_rows(results_df_antwerp, results_df_antwerp_2)
View(df_antwerp_smith)
write_xlsx(x = df_antwerp_smith, path = "antwerp_smith_data.xlsx", col_names = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp_book <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp_book <- results_antwerp_book %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book
results_df_antwerp_book <- results_df_antwerp_book %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_book}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp_book <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp_book <- results_antwerp_book %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book
results_df_antwerp_book <- results_df_antwerp_book %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_book}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book
results_antwerp_book2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_book <- results_antwerp_book2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book2 <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book2
results_df_antwerp_book2 <- results_df_antwerp_book2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_book}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book2
df_antwerp_book <- bind_rows(results_df_antwerp_book, results_df_antwerp_book2)
View(df_antwerp_book)
write_xlsx(x = df_antwerp_book, path = "antwerp_book_data.xlsx", col_names = TRUE)
View(results)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp_book <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=male&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp_book <- results_antwerp_book %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book
results_df_antwerp_book <- results_df_antwerp_book %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_book}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book
names_antwerp_book <- results_antwerp_book2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(xlsx)
library(writexl)
results_antwerp_book <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=male&year_start=1556&year_end=1725&formtype=selections&page=1&subtask=selections")
#displaying the html page
#results_antwerp
names_antwerp_book <- results_antwerp_book %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book
results_df_antwerp_book <- results_df_antwerp_book %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_book}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book
results_antwerp_book2 <- read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/index.php?occupation_id=28%2C663%2C29%2C658%2C32%2C30%2C1028%2C243&subjectmat=&place=antwerpen&gender=male&year_start=1556&year_end=1725&formtype=selections&page=2&subtask=selections")
#displaying the html page
#results_antwerp_2
names_antwerp_book <- results_antwerp_book2 %>%
html_nodes("li") %>%
html_text()
names_antwerp_book
url_antwerp_book <- results_antwerp_book2 %>%
html_nodes("li a") %>%
html_attr("href")
url_antwerp_book #list of individual links from page one
results_df_antwerp_book2 <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book2
results_df_antwerp_book2 <- tibble(names_antwerp_book, url_antwerp_book)
results_df_antwerp_book2
results_df_antwerp_book2 <- results_df_antwerp_book2 %>%
mutate(base_url = "http://www.vondel.humanities.uva.nl") %>%
mutate(full_url = glue::glue("{base_url}{url_antwerp_book}")) %>%
mutate(full_url = str_replace_all(full_url, "\\.\\.", ""))
results_df_antwerp_book2
df_antwerp_book <- bind_rows(results_df_antwerp_book, results_df_antwerp_book2)
write_xlsx(x = df_antwerp_book, path = "antwerp_book_data.xlsx", col_names = TRUE)
