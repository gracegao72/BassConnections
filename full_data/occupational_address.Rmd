---
title: "ocupational_address"
author: "Grace Gao"
date: "3/2/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown
```{r packages}
library("readxl")
library(tidyverse)
library('xml2')
library(rvest)
library(openxlsx)
library(readxl)
library(writexl)
library(dplyr)

```

### occupation address webscrape
```{r}
emanuel <-  read_html("http://www.vondel.humanities.uva.nl/ecartico/persons/17254")

```


```{r}
#using the computer extension 

location <- emanuel  %>% 
  html_nodes(css = "ul:nth-child(12)") %>% 
  html_text() %>% 
  as_tibble() 
emanuel_tibble
```

#Death and Birth Place
```{r}
#using the computer extension 

birth <- emanuel  %>% 
  html_nodes(css = "tr:nth-child(4) td+ td") %>% 
  html_text() %>% 
  as_tibble() 
emanuel_birth

death <- emanuel  %>% 
  html_nodes(css = "tr:nth-child(5) td+ td") %>% 
  html_text() %>% 
  as_tibble() 
emanuel_death

```

#occupation
```{r}
#using the computer extension 

occupation <- emanuel  %>% 
  html_nodes(css = "ul:nth-child(10)") %>% 
  html_text() %>% 
  as_tibble() 
emanuel_occupation

```


##convert excel

```{r}
features_data <- data.frame()

temp_data <- bind_cols(occupation, birth, death, location)

temp_data <- temp_data %>% 
  rename(
     occupation = value...1,
    birth_place = value...2,
    death_place = value...3,
    locations = value...4
    )

glimpse(temp_data)
```

```{r}
write_xlsx(x = features_data, path = "temp.xlsx", col_names = TRUE)

```
